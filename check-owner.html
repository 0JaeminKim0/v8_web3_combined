<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»¨íŠ¸ë™íŠ¸ ì†Œìœ ì í™•ì¸</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-8">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">ì»¨íŠ¸ë™íŠ¸ ì†Œìœ ì í™•ì¸</h1>
        
        <div class="bg-gray-800 p-6 rounded-lg mb-4">
            <h2 class="text-xl mb-4">ì»¨íŠ¸ë™íŠ¸ ì •ë³´</h2>
            <p class="mb-2"><strong>ì£¼ì†Œ:</strong> <span class="font-mono">0x6b52101F208B8b170942605C0367eF2296Ce779c</span></p>
            <p class="mb-4"><strong>ë„¤íŠ¸ì›Œí¬:</strong> Sepolia Testnet</p>
            
            <button onclick="checkOwner()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded">
                ì†Œìœ ì í™•ì¸í•˜ê¸°
            </button>
        </div>
        
        <div id="results" class="bg-gray-800 p-6 rounded-lg">
            <h2 class="text-xl mb-4">ê²°ê³¼</h2>
            <div id="ownerInfo">í´ë¦­í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”...</div>
        </div>
        
        <div class="bg-yellow-800 p-4 rounded-lg mt-4">
            <h3 class="font-bold mb-2">ğŸ‘¤ ì œê³µëœ ì£¼ì†Œ</h3>
            <p class="font-mono text-sm">0xbeC016ccc51b89a8c40bdf67ec461e8549B64e75</p>
            <p class="text-sm mt-2">ì´ ì£¼ì†Œê°€ ì‹¤ì œ ì»¨íŠ¸ë™íŠ¸ ì†Œìœ ìì¸ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
        const contractAddress = '0x6b52101F208B8b170942605C0367eF2296Ce779c';
        const providedAddress = '0xbeC016ccc51b89a8c40bdf67ec461e8549B64e75';
        
        // owner() function selector
        const ownerABI = [
            {
                "inputs": [],
                "name": "owner",
                "outputs": [{"internalType": "address", "name": "", "type": "address"}],
                "stateMutability": "view",
                "type": "function"
            }
        ];

        async function checkOwner() {
            const resultsDiv = document.getElementById('ownerInfo');
            resultsDiv.innerHTML = 'í™•ì¸ ì¤‘...';

            try {
                // Sepolia RPC endpoint
                const provider = new ethers.providers.JsonRpcProvider('https://sepolia.infura.io/v3/84842078b09946638c03157f83405213');
                
                const contract = new ethers.Contract(contractAddress, ownerABI, provider);
                
                // Get actual owner
                const actualOwner = await contract.owner();
                
                // Get contract balance
                const balance = await provider.getBalance(contractAddress);
                const balanceETH = ethers.utils.formatEther(balance);
                
                // Compare addresses
                const isMatch = actualOwner.toLowerCase() === providedAddress.toLowerCase();
                
                resultsDiv.innerHTML = `
                    <div class="space-y-3">
                        <div class="p-3 bg-gray-700 rounded">
                            <strong>ì‹¤ì œ ì»¨íŠ¸ë™íŠ¸ ì†Œìœ ì:</strong><br>
                            <span class="font-mono text-green-400">${actualOwner}</span>
                        </div>
                        
                        <div class="p-3 bg-gray-700 rounded">
                            <strong>ì œê³µëœ ì£¼ì†Œ:</strong><br>
                            <span class="font-mono text-blue-400">${providedAddress}</span>
                        </div>
                        
                        <div class="p-3 rounded ${isMatch ? 'bg-green-800' : 'bg-red-800'}">
                            <strong>ì£¼ì†Œ ì¼ì¹˜ ì—¬ë¶€:</strong> ${isMatch ? 'âœ… ì¼ì¹˜í•¨' : 'âŒ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ'}
                        </div>
                        
                        <div class="p-3 bg-gray-700 rounded">
                            <strong>ì»¨íŠ¸ë™íŠ¸ ì”ê³ :</strong> ${balanceETH} ETH
                        </div>
                        
                        ${!isMatch ? `
                        <div class="p-3 bg-yellow-800 rounded">
                            <strong>âš ï¸ ë¬¸ì œì :</strong><br>
                            ì œê³µëœ ì£¼ì†ŒëŠ” ì»¨íŠ¸ë™íŠ¸ ì†Œìœ ìê°€ ì•„ë‹™ë‹ˆë‹¤.<br>
                            ì‹¤ì œ ì†Œìœ ìëŠ” <span class="font-mono">${actualOwner}</span>ì…ë‹ˆë‹¤.
                        </div>
                        ` : ''}
                    </div>
                `;
                
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="text-red-400">
                        <strong>ì˜¤ë¥˜ ë°œìƒ:</strong><br>
                        ${error.message}
                    </div>
                `;
            }
        }
    </script>
</body>
</html>